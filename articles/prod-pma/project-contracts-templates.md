---
title: Synchronizuj umowy i projekty dotyczące projektów bezpośrednio z Project Service Automation do Finance and Operations
description: Ta temat opisuje szablon i podstawowe zadanaużywane do synchronizowania kontraktów projektu i projektów bezpośrednio z Microsoft Dynamics 365 Project Service Automation do Dynamics 365 Finance.
author: Yowelle
manager: AnnBe
ms.date: 09/09/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: 87983
ms.assetid: b454ad57-2fd6-46c9-a77e-646de4153067
ms.search.region: Global
ms.author: andchoi
ms.search.validFrom: 2017-12-13
ms.dyn365.ops.version: AX 7.3.0
ms.openlocfilehash: 9e4f11ec0bb88ed0971a3d082e7ca7823fcf8453
ms.sourcegitcommit: 5c4c9bf3ba018562d6cb3443c01d550489c415fa
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/16/2020
ms.locfileid: "4082146"
---
# <a name="synchronize-project-contracts-and-projects-directly-from-project-service-automation-to-finance-and-operations"></a><span data-ttu-id="7c437-103">Synchronizuj umowy i projekty dotyczące projektów bezpośrednio z Project Service Automation do Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="7c437-103">Synchronize project contracts and projects directly from Project Service Automation to Finance and Operations</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="7c437-104">W tym temacie opisano szablon i podstawowe zadania, które są używane do synchronizowania umów dotyczących projektów i projektów bezpośrednio z Microsoft Dynamics 365 Project Service Automation do Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="7c437-104">This topic describes the template and underlying tasks that are used to synchronize project contracts and projects directly from Dynamics 365 Project Service Automation to Dynamics 365 Finance.</span></span>

> [!NOTE] 
> <span data-ttu-id="7c437-105">Jeśli jest używana wersja Enterprise edition 7.3.0, należy zainstalować 4074835 KB.</span><span class="sxs-lookup"><span data-stu-id="7c437-105">If you're using Enterprise edition 7.3.0, you must install KB 4074835.</span></span>

## <a name="data-flow-for-project-service-automation-to-finance"></a><span data-ttu-id="7c437-106">Przepływ danych dla Project Service Automation do Finance</span><span class="sxs-lookup"><span data-stu-id="7c437-106">Data flow for Project Service Automation to Finance</span></span>

> [!NOTE]
> <span data-ttu-id="7c437-107">Zanim zaczniesz używać rozwiązania integracji Project Service Automation z Finance, powinieneś zapoznać się z funkcją integracji Dynamics 365 Data.</span><span class="sxs-lookup"><span data-stu-id="7c437-107">Before you can use the Project Service Automation to Finance integration solution, you should be familiar with the Dynamics 365 Data integration feature.</span></span>

<span data-ttu-id="7c437-108">Rozwiązanie do integracji Project Service Automation to Finance wykorzystuje funkcję integracji danych do synchronizowania danych między wystąpieniami Project Service Automation i Finance.</span><span class="sxs-lookup"><span data-stu-id="7c437-108">The Project Service Automation to Finance integration solution uses the Data integration feature to synchronize data across instances of Project Service Automation and Finance.</span></span> <span data-ttu-id="7c437-109">Szablon integracji, który jest dostępny z funkcją integracji danych, umożliwia przepływ danych o umowach projektowych, projektach, wierszach umowy na projekt i punktach kontrolnych linii umowy na projekt z Project Service Automation do Finance.</span><span class="sxs-lookup"><span data-stu-id="7c437-109">The integration template that is available with the Data integration feature enables the flow of data about project contracts, projects, project contract lines, and project contract line milestones from Project Service Automation to Finance.</span></span>

<span data-ttu-id="7c437-110">Na poniższej ilustracji przedstawiono sposób synchronizowania danych między Project Service Automation a Finance.</span><span class="sxs-lookup"><span data-stu-id="7c437-110">The following illustration shows how the data is synchronized between Project Service Automation and Finance.</span></span>

<span data-ttu-id="7c437-111">[![Przepływ danych do integracji Project Service Automation z Finance](./media/ProjectsAndContractsFlow_upd.JPG)](./media/ProjectsAndContractsFlow.JPG)</span><span class="sxs-lookup"><span data-stu-id="7c437-111">[![Data flow for Project Service Automation integration with Finance](./media/ProjectsAndContractsFlow_upd.JPG)](./media/ProjectsAndContractsFlow.JPG)</span></span>

## <a name="templates-and-tasks"></a><span data-ttu-id="7c437-112">Szablony i zadania</span><span class="sxs-lookup"><span data-stu-id="7c437-112">Templates and tasks</span></span>

<span data-ttu-id="7c437-113">Aby uzyskać dostęp do dostępnych szablonów, w centrum administracyjnym Microsoft Power Apps wybierz pozycję **Projekty** , a następnie w prawym górnym rogu wybierz opcję **Nowy projekt** , aby wybrać szablony publiczne.</span><span class="sxs-lookup"><span data-stu-id="7c437-113">To access the available templates, in the Microsoft Power Apps admin center, select **Projects** , and then, in the upper-right corner, select **New project** to select public templates.</span></span>

<span data-ttu-id="7c437-114">Następujące szablony i podstawowe zadania służą do synchronizowania umów dotyczących projektów i projektów z usługi Project Service Automation do Finance:</span><span class="sxs-lookup"><span data-stu-id="7c437-114">The following templates and underlying tasks are used to synchronize project contracts and projects from Project Service Automation to Finance:</span></span>

### <a name="integrating-with-dynamics-365-project-service-automation-v2x"></a><span data-ttu-id="7c437-115">Integrowanie z Dynamics 365 Project Service Automation v2.x</span><span class="sxs-lookup"><span data-stu-id="7c437-115">Integrating with Dynamics 365 Project Service Automation v2.x</span></span>
- <span data-ttu-id="7c437-116">**Nazwa szablonu podczas integracji danych:** projekty i kontrakty (PSA do Fin i Ops)</span><span class="sxs-lookup"><span data-stu-id="7c437-116">**Name of the template in Data integration:** Projects and contracts (PSA to Fin and Ops)</span></span>
- <span data-ttu-id="7c437-117">**Nazwa zadań w projekcie:**</span><span class="sxs-lookup"><span data-stu-id="7c437-117">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="7c437-118">Kontrakty projektów PSA do Fin i Ops</span><span class="sxs-lookup"><span data-stu-id="7c437-118">Project contracts PSA to Fin and Ops</span></span>
    - <span data-ttu-id="7c437-119">Projekty PSA do Fin i Ops</span><span class="sxs-lookup"><span data-stu-id="7c437-119">Projects PSA to Fin and Ops</span></span>
    - <span data-ttu-id="7c437-120">Pozycje kontraktu projektów PSA do Fin i Ops</span><span class="sxs-lookup"><span data-stu-id="7c437-120">Project contract lines PSA to Fin and Ops</span></span>
    - <span data-ttu-id="7c437-121">Punkty kontrolne pozycji kontraktu projektów PSA do Fin i Ops</span><span class="sxs-lookup"><span data-stu-id="7c437-121">Project contract line milestones PSA to Fin and Ops</span></span>
  
### <a name="integrating-with-dynamics-365-project-service-automation-v3x"></a><span data-ttu-id="7c437-122">Integrowanie z Dynamics 365 Project Service Automation v3.x</span><span class="sxs-lookup"><span data-stu-id="7c437-122">Integrating with Dynamics 365 Project Service Automation v3.x</span></span>
<span data-ttu-id="7c437-123">Nastąpiła zmiana schematu w Project Service Automation, która ma wpływ na szablon punktu kontrolnego wiersza umowy dotyczącej projektu i użycie wersji v2 szablonu jest wymagane do integracji Project Service Automation v3.x z Dynamics 365.</span><span class="sxs-lookup"><span data-stu-id="7c437-123">There is a schema change in Project Service Automation that impacts the Project contract line milestone template and use of the v2 version of the template is required to integrate Project Service Automation v3.x with Dynamics 365.</span></span>

- <span data-ttu-id="7c437-124">**Nazwa szablonu podczas integracji danych:** projekty i kontrakty (PSA 3.x do Fin i Ops) - v2</span><span class="sxs-lookup"><span data-stu-id="7c437-124">**Name of the template in Data integration:** Projects and Contracts (PSA 3.x to Fin and Ops) - v2</span></span>
- <span data-ttu-id="7c437-125">**Nazwa zadań w projekcie:**</span><span class="sxs-lookup"><span data-stu-id="7c437-125">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="7c437-126">Kontrakty projektów PSA do Fin i Ops</span><span class="sxs-lookup"><span data-stu-id="7c437-126">Project contracts PSA to Fin and Ops</span></span>
    - <span data-ttu-id="7c437-127">Projekty PSA do Fin i Ops</span><span class="sxs-lookup"><span data-stu-id="7c437-127">Projects PSA to Fin and Ops</span></span>
    - <span data-ttu-id="7c437-128">Pozycje kontraktu projektów PSA do Fin i Ops</span><span class="sxs-lookup"><span data-stu-id="7c437-128">Project contract lines PSA to Fin and Ops</span></span>
    - <span data-ttu-id="7c437-129">Punkty kontrolne pozycji kontraktu projektów PSA do Fin i Ops</span><span class="sxs-lookup"><span data-stu-id="7c437-129">Project contract line milestones PSA to Fin and Ops</span></span>

<span data-ttu-id="7c437-130">Przed synchronizacją umów dotyczących projektów i projektów należy zsynchronizować konta.</span><span class="sxs-lookup"><span data-stu-id="7c437-130">Before synchronization of project contracts and projects can occur, you must synchronize accounts.</span></span>

## <a name="entity-set"></a><span data-ttu-id="7c437-131">Zestaw encji</span><span class="sxs-lookup"><span data-stu-id="7c437-131">Entity set</span></span>

| <span data-ttu-id="7c437-132">Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="7c437-132">Project Service Automation</span></span>       | <span data-ttu-id="7c437-133">Finanse</span><span class="sxs-lookup"><span data-stu-id="7c437-133">Finance</span></span>                                                |
|----------------------------------|--------------------------------------------------------|
| <span data-ttu-id="7c437-134">Zamówienia</span><span class="sxs-lookup"><span data-stu-id="7c437-134">Orders</span></span>                           | <span data-ttu-id="7c437-135">Encja integrująca dla kontraktu projektu</span><span class="sxs-lookup"><span data-stu-id="7c437-135">Integration entity for project contract</span></span>                |
| <span data-ttu-id="7c437-136">Projekty</span><span class="sxs-lookup"><span data-stu-id="7c437-136">Projects</span></span>                         | <span data-ttu-id="7c437-137">Encja integrująca dla projektu</span><span class="sxs-lookup"><span data-stu-id="7c437-137">Integration entity for project</span></span>                         |
| <span data-ttu-id="7c437-138">Wiersze zamówienia</span><span class="sxs-lookup"><span data-stu-id="7c437-138">Order lines</span></span>                      | <span data-ttu-id="7c437-139">Encja integrująca dla pozycji kontraktu projektu</span><span class="sxs-lookup"><span data-stu-id="7c437-139">Integration entity for project contract line</span></span>           |
| <span data-ttu-id="7c437-140">Punkty kontrolne pozycji kontraktu projektu</span><span class="sxs-lookup"><span data-stu-id="7c437-140">Project contract line milestones</span></span> | <span data-ttu-id="7c437-141">Encja integrująca dla punktu kontrolnego pozycji kontraktu projektu</span><span class="sxs-lookup"><span data-stu-id="7c437-141">Integration entity for project contract line milestone</span></span> |

## <a name="entity-flow"></a><span data-ttu-id="7c437-142">Przepływ encji</span><span class="sxs-lookup"><span data-stu-id="7c437-142">Entity flow</span></span>

<span data-ttu-id="7c437-143">Kontraktami projektu zarządza się w Project Service Automation i są one synchronizowane z Finance jako kontrakty projektów.</span><span class="sxs-lookup"><span data-stu-id="7c437-143">Project contracts are managed in Project Service Automation, and they are synchronized to Finance as project contracts.</span></span> <span data-ttu-id="7c437-144">W ramach szablonu integracji można ustawić źródło integracji w programie Finance dla umowy dotyczącej projektu.</span><span class="sxs-lookup"><span data-stu-id="7c437-144">As part of the integration template, you can set the integration source in Finance for the project contract.</span></span>

<span data-ttu-id="7c437-145">Projektami czasowo-materiałowymi i projektami o ustalonej cenie zarządza się w programie Project Service Automation i synchronizuje z programem Finance jako projekty.</span><span class="sxs-lookup"><span data-stu-id="7c437-145">Time and material project and Fixed price projects are managed in Project Service Automation, and they are synchronized to Finance as projects.</span></span> <span data-ttu-id="7c437-146">W ramach szablonu integracji można ustawić źródło integracji w Finance dla projektu.</span><span class="sxs-lookup"><span data-stu-id="7c437-146">As part of the template integration, you can set the integration source in Finance for the project.</span></span>

<span data-ttu-id="7c437-147">Pozycjami kontraktu projektu zarządza się w Project Service Automation i są one synchronizowane z Finance jako reguły rozliczeniowe kontraktu dotyczącego projektu.</span><span class="sxs-lookup"><span data-stu-id="7c437-147">Project contract lines are managed in Project Service Automation, and they are synchronized to Finance as project contract billing rules.</span></span> <span data-ttu-id="7c437-148">Jeśli metoda rozliczenia różni się od domyślnego typu projektu, synchronizacja aktualizuje typ projektu dla projektu w wierszu umowy i grupy projektów.</span><span class="sxs-lookup"><span data-stu-id="7c437-148">If the billing method differs from the default project type, the synchronization updates the project type for the contract line project and project group.</span></span>

<span data-ttu-id="7c437-149">Punktami kontrolnymi pozycji kontraktu projektu zarządza się w Project Service Automation i są one synchronizowane z Finance jako reguły rozliczeniowe punktów kontrolnych kontraktu dotyczącego projektu.</span><span class="sxs-lookup"><span data-stu-id="7c437-149">Project contract line milestones are managed in Project Service Automation, and they are synchronized to Finance as project contract billing rule milestones.</span></span>

## <a name="project-service-automation-to-finance-integration-solution"></a><span data-ttu-id="7c437-150">Rozwiązanie integracji Project Service Automation z Finance</span><span class="sxs-lookup"><span data-stu-id="7c437-150">Project Service Automation to Finance integration solution</span></span>

<span data-ttu-id="7c437-151">Pole **identyfikator kontraktu projektu** jest dostępne na stronie **kontrakty projektów**.</span><span class="sxs-lookup"><span data-stu-id="7c437-151">The **Project contract ID** field is available on the **Project contracts** page.</span></span> <span data-ttu-id="7c437-152">To pole zostało wykonane jako klucz fizyczny i unikatowy do obsługi integracji.</span><span class="sxs-lookup"><span data-stu-id="7c437-152">This field has been made a natural and unique key to support the integration.</span></span>

<span data-ttu-id="7c437-153">Po utworzeniu nowego kontraktu projektu, jeśli wartość **identyfikatora kontraktu projektu** już nie istnieje, jest generowana automatycznie za pomocą sekwencji numerów.</span><span class="sxs-lookup"><span data-stu-id="7c437-153">When a new project contract is created, if a **Project contract ID** value doesn't already exist, it's automatically generated by using a number sequence.</span></span> <span data-ttu-id="7c437-154">Wartość składa się z **ORD** , po którym następuje rosnąca sekwencja liczb, a następnie sufiks składający się z sześciu znaków.</span><span class="sxs-lookup"><span data-stu-id="7c437-154">The value consists of **ORD** followed by an incrementing number sequence and then a suffix of six characters.</span></span> <span data-ttu-id="7c437-155">Oto przykład: **ORD-01022-Z4M9Q0**.</span><span class="sxs-lookup"><span data-stu-id="7c437-155">Here is an example: **ORD-01022-Z4M9Q0**.</span></span>

<span data-ttu-id="7c437-156">Pole **Numer projektu** jest dostępne na stronie **Projekty**.</span><span class="sxs-lookup"><span data-stu-id="7c437-156">The **Project Number** field is available on the **Projects** page.</span></span> <span data-ttu-id="7c437-157">To pole zostało wykonane jako klucz fizyczny i unikatowy do obsługi integracji.</span><span class="sxs-lookup"><span data-stu-id="7c437-157">This field has been made a natural and unique key to support the integration.</span></span>

<span data-ttu-id="7c437-158">Po utworzeniu nowego projektu, jeśli wartość **Numer projektu** już nie istnieje, jest generowana automatycznie za pomocą sekwencji numerów.</span><span class="sxs-lookup"><span data-stu-id="7c437-158">When a new project is created, if a **Project Number** value doesn't already exist, it's automatically generated by using a number sequence.</span></span> <span data-ttu-id="7c437-159">Wartość składa się z **PRJ** , po którym następuje rosnąca sekwencja liczb, a następnie sufiks składający się z sześciu znaków.</span><span class="sxs-lookup"><span data-stu-id="7c437-159">The value consists of **PRJ** followed by an incrementing number sequence and then a suffix of six characters.</span></span> <span data-ttu-id="7c437-160">Oto przykład: **PRJ-01049-CCNID0**.</span><span class="sxs-lookup"><span data-stu-id="7c437-160">Here is an example: **PRJ-01049-CCNID0**.</span></span>

<span data-ttu-id="7c437-161">Po zastosowaniu rozwiązania integracji Project Service Automation z Finance skrypt uaktualnienia ustawia pole **Identyfikator kontraktu** projektu dla istniejących umów dotyczących projektu oraz pole **Numer projektu** dla istniejących projektów w programie Project Service Automation.</span><span class="sxs-lookup"><span data-stu-id="7c437-161">When the Project Service Automation to Finance integration solution is applied, an upgrade script sets the **Project contract ID** field for existing project contracts and the **Project Number** field for existing projects in Project Service Automation.</span></span>

## <a name="prerequisites-and-mapping-setup"></a><span data-ttu-id="7c437-162">Wymagania wstępne i ustawienia mapowania</span><span class="sxs-lookup"><span data-stu-id="7c437-162">Prerequisites and mapping setup</span></span>

- <span data-ttu-id="7c437-163">Przed synchronizacją umów dotyczących projektów i projektów należy zsynchronizować konta.</span><span class="sxs-lookup"><span data-stu-id="7c437-163">Before synchronization of project contracts and projects can occur, you must synchronize accounts.</span></span>
- <span data-ttu-id="7c437-164">W zestawie połączeń Dodaj mapowanie pola klucza integracji dla **msdyn\_organizationalunits** do **msdyn\_name \[Name\]**.</span><span class="sxs-lookup"><span data-stu-id="7c437-164">In your connection set, add an integration key field mapping for **msdyn\_organizationalunits** to **msdyn\_name \[Name\]**.</span></span> <span data-ttu-id="7c437-165">Konieczne może być dodanie projektu do zestawu połączeń.</span><span class="sxs-lookup"><span data-stu-id="7c437-165">You might first need to add a project to the connection set.</span></span> <span data-ttu-id="7c437-166">Aby uzyskać więcej informacji, zobacz [Integrowanie danych z Common Data Service dla aplikacji](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span><span class="sxs-lookup"><span data-stu-id="7c437-166">For more information, see [Integrate data into Common Data Service for Apps](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span></span>
- <span data-ttu-id="7c437-167">W zestawie połączeń Dodaj mapowanie pola klucza integracji dla **msdyn\_projects** do **msdynce\_projectnumber \[Project Number\]**.</span><span class="sxs-lookup"><span data-stu-id="7c437-167">In your connection set, add an integration key field mapping for **msdyn\_projects** to **msdynce\_projectnumber \[Project Number\]**.</span></span> <span data-ttu-id="7c437-168">Konieczne może być dodanie projektu do zestawu połączeń.</span><span class="sxs-lookup"><span data-stu-id="7c437-168">You might first need to add a project to the connection set.</span></span> <span data-ttu-id="7c437-169">Aby uzyskać więcej informacji, zobacz [Integrowanie danych z Common Data Service dla aplikacji](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span><span class="sxs-lookup"><span data-stu-id="7c437-169">For more information, see [Integrate data into Common Data Service for Apps](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span></span>
- <span data-ttu-id="7c437-170">**SourceDataID** w przypadku umów dotyczących projektów i projektów można zaktualizować do innej wartości lub usunąć z mapowania.</span><span class="sxs-lookup"><span data-stu-id="7c437-170">**SourceDataID** for project contracts and projects can be updated to a different value or removed from the mapping.</span></span> <span data-ttu-id="7c437-171">Domyślna wartość szablonu to **Project Service Automation**.</span><span class="sxs-lookup"><span data-stu-id="7c437-171">The default template value is **Project Service Automation**.</span></span>
- <span data-ttu-id="7c437-172">Mapowanie **PaymentTerms** musi być aktualizowane, aby odzwierciedlać prawidłowe warunki płatności w Finance.</span><span class="sxs-lookup"><span data-stu-id="7c437-172">The **PaymentTerms** mapping must be updated so that it reflects valid terms of payment in Finance.</span></span> <span data-ttu-id="7c437-173">Użytkownik może również usunąć mapowanie z zadania projektu.</span><span class="sxs-lookup"><span data-stu-id="7c437-173">You can also remove the mapping from the project task.</span></span> <span data-ttu-id="7c437-174">Domyślna mapa wartości zawiera wartości domyślne dla danych demonstracyjnych.</span><span class="sxs-lookup"><span data-stu-id="7c437-174">The default value map has default values for demo data.</span></span> <span data-ttu-id="7c437-175">W poniższej tabeli przedstawiono wartości w Project Service Automation.</span><span class="sxs-lookup"><span data-stu-id="7c437-175">The following table shows the values in Project Service Automation.</span></span>

    | <span data-ttu-id="7c437-176">Value</span><span class="sxs-lookup"><span data-stu-id="7c437-176">Value</span></span> | <span data-ttu-id="7c437-177">Opis</span><span class="sxs-lookup"><span data-stu-id="7c437-177">Description</span></span>   |
    |-------|---------------|
    | <span data-ttu-id="7c437-178">1</span><span class="sxs-lookup"><span data-stu-id="7c437-178">1</span></span>     | <span data-ttu-id="7c437-179">30-dniowy termin płatności</span><span class="sxs-lookup"><span data-stu-id="7c437-179">Net 30</span></span>        |
    | <span data-ttu-id="7c437-180">2</span><span class="sxs-lookup"><span data-stu-id="7c437-180">2</span></span>     | <span data-ttu-id="7c437-181">2% 10, 30 dni</span><span class="sxs-lookup"><span data-stu-id="7c437-181">2% 10, Net 30</span></span> |
    | <span data-ttu-id="7c437-182">3</span><span class="sxs-lookup"><span data-stu-id="7c437-182">3</span></span>     | <span data-ttu-id="7c437-183">45-dniowy termin płatności</span><span class="sxs-lookup"><span data-stu-id="7c437-183">Net 45</span></span>        |
    | <span data-ttu-id="7c437-184">100</span><span class="sxs-lookup"><span data-stu-id="7c437-184">4</span></span>     | <span data-ttu-id="7c437-185">60-dniowy termin płatności</span><span class="sxs-lookup"><span data-stu-id="7c437-185">Net 60</span></span>        |

## <a name="power-query"></a><span data-ttu-id="7c437-186">Power Query</span><span class="sxs-lookup"><span data-stu-id="7c437-186">Power Query</span></span>

<span data-ttu-id="7c437-187">Aby filtrować dane, należy użyć dodatku Microsoft Power Query dla programu Excel, jeśli są spełnione następujące warunki:</span><span class="sxs-lookup"><span data-stu-id="7c437-187">You must use Microsoft Power Query for Excel to filter data if the following conditions are met:</span></span>

- <span data-ttu-id="7c437-188">W Dynamics 365 Sales jest zamówienie sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="7c437-188">You have sales orders in Dynamics 365 Sales.</span></span>
- <span data-ttu-id="7c437-189">Masz wiele jednostek organizacyjnych w Project Service Automation, a te jednostki organizacyjne zostaną zamapowane na wiele firm w Finance.</span><span class="sxs-lookup"><span data-stu-id="7c437-189">You have multiple organizational units in Project Service Automation, and these organizational units will be mapped to multiple legal entities in Finance.</span></span>

<span data-ttu-id="7c437-190">Jeśli musisz użyć dodatku Power Query, postępuj zgodnie z tymi wskazówkami:</span><span class="sxs-lookup"><span data-stu-id="7c437-190">If you must use Power Query, follow these guidelines:</span></span>

- <span data-ttu-id="7c437-191">Szablon projektów i kontraktów (PSA to fin i Ops) zawiera filtr domyślny zawierający tylko zamówienia sprzedaży z typem **Work item (msdyn\_ordertype = 192350001)**.</span><span class="sxs-lookup"><span data-stu-id="7c437-191">The Projects and contracts (PSA to Fin and Ops) template has a default filter that includes only sales orders of the **Work item (msdyn\_ordertype = 192350001)** type.</span></span> <span data-ttu-id="7c437-192">Ten filtr ułatwia zagwarantowanie, że kontrakty projektów nie są tworzone dla zamówień sprzedaży w Finance.</span><span class="sxs-lookup"><span data-stu-id="7c437-192">This filter helps guarantee that project contracts aren't created for sales orders in Finance.</span></span> <span data-ttu-id="7c437-193">W przypadku utworzenia własnego szablonu należy dodać ten filtr.</span><span class="sxs-lookup"><span data-stu-id="7c437-193">If you create your own template, you must add this filter.</span></span>
- <span data-ttu-id="7c437-194">Należy utworzyć filtr dodatku Power Query, który obejmuje tylko organizacje kontraktowe, które powinny być synchronizowane z firmą zestawu połączeń integracji.</span><span class="sxs-lookup"><span data-stu-id="7c437-194">You must create a Power Query filter that includes only the contract organizations that should be synchronized to the legal entity of the integration connection set.</span></span> <span data-ttu-id="7c437-195">Na przykład umowy dotyczące projektów, które masz z jednostką organizacyjną kontraktu firmy Contoso US, powinny być synchronizowane z firmą USSI, ale umowy dotyczące projektów, które masz z jednostką organizacyjną kontraktu firmy Contoso Global, powinny być synchronizowane z firmą USMF.</span><span class="sxs-lookup"><span data-stu-id="7c437-195">For example, project contracts that you have with the contract organizational unit of Contoso US should be synchronized to the USSI legal entity, but project contracts that you have with the contract organizational unit of Contoso Global should be synchronized to the USMF legal entity.</span></span> <span data-ttu-id="7c437-196">Jeśli nie dodasz tego filtru do mapowania zadań, wszystkie umowy dotyczące projektu zostaną zsynchronizowane z firmą zdefiniowaną dla zestawu połączeń, niezależnie od jednostki organizacyjnej kontraktu.</span><span class="sxs-lookup"><span data-stu-id="7c437-196">If you don't add this filter to your task mapping, all project contracts will be synchronized to the legal entity that is defined for the connection set, regardless of the contract organizational unit.</span></span>

## <a name="template-mapping-in-data-integration"></a><span data-ttu-id="7c437-197">Mapowanie szablonów w integracji danych</span><span class="sxs-lookup"><span data-stu-id="7c437-197">Template mapping in Data integration</span></span>

> [!NOTE] 
> <span data-ttu-id="7c437-198">Pola **CustomerReference** , **AddressCity** , **AddressCountryRegionID** , **AddressDescription** , **AddressLine1** , **AddressLine2** , **AddressState** i **AddressZipCode** nie są zawarte w domyślnym mapowaniu kontraktów dotyczących projektów.</span><span class="sxs-lookup"><span data-stu-id="7c437-198">The **CustomerReference** , **AddressCity** , **AddressCountryRegionID** , **AddressDescription** , **AddressLine1** , **AddressLine2** , **AddressState** , and **AddressZipCode** fields aren't included in the default mapping for project contracts.</span></span> <span data-ttu-id="7c437-199">Można dodać mapowania, jeśli jest wymagane, aby te dane były synchronizowane z kontraktami dotyczącymi projektów.</span><span class="sxs-lookup"><span data-stu-id="7c437-199">You can add the mappings if you require that this data be synchronized for project contracts.</span></span>
>
> <span data-ttu-id="7c437-200">Pola **Description** , **ParentID** , **ProjectGroup** , **ProjectManagerPersonnelNumber** i **ProjectType** nie są uwzględnione w domyślnym mapowaniu projektów.</span><span class="sxs-lookup"><span data-stu-id="7c437-200">The **Description** , **ParentID** , **ProjectGroup** , **ProjectManagerPersonnelNumber** , and **ProjectType** fields aren't included in the default mapping for projects.</span></span> <span data-ttu-id="7c437-201">Można dodać mapowania, jeśli jest wymagane, aby te dane były synchronizowane z projektami.</span><span class="sxs-lookup"><span data-stu-id="7c437-201">You can add the mappings if you require that this data be synchronized for projects.</span></span>

<span data-ttu-id="7c437-202">Poniższe ilustracje przedstawiają przykłady odwzorowań zadań szablonu w integracji danych.</span><span class="sxs-lookup"><span data-stu-id="7c437-202">The following illustrations show examples of the template task mappings in Data integration.</span></span> <span data-ttu-id="7c437-203">Mapowanie przedstawia informacje o polach, które zostaną zsynchronizowane z Project Service Automation do Finance.</span><span class="sxs-lookup"><span data-stu-id="7c437-203">The mapping shows the field information that will be synchronized from Project Service Automation to Finance.</span></span>

<span data-ttu-id="7c437-204">[![Mapowanie szablonu kontraktu projektu](./media/ProjectContractTemplateMapping.JPG)](./media/ProjectContractTemplateMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="7c437-204">[![Project contract template mapping](./media/ProjectContractTemplateMapping.JPG)](./media/ProjectContractTemplateMapping.JPG)</span></span>

<span data-ttu-id="7c437-205">[![Mapowanie szablonu projektu](./media/ProjectTemplateMapping.JPG)](./media/ProjectTemplateMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="7c437-205">[![Project template mapping](./media/ProjectTemplateMapping.JPG)](./media/ProjectTemplateMapping.JPG)</span></span>

<span data-ttu-id="7c437-206">[![Mapowanie szablonu pozycji kontraktu](./media/ProjectContractLinesMapping.JPG)](./media/ProjectContractLinesMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="7c437-206">[![Project contract lines template mapping](./media/ProjectContractLinesMapping.JPG)](./media/ProjectContractLinesMapping.JPG)</span></span>

<span data-ttu-id="7c437-207">[![Mapowanie szablonu pozycji kontraktu punktu kontrolnego](./media/ProjectContractLineMilestonesMapping.JPG)](./media/ProjectContractLineMilestonesMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="7c437-207">[![Project contract line milestone template mapping](./media/ProjectContractLineMilestonesMapping.JPG)](./media/ProjectContractLineMilestonesMapping.JPG)</span></span>

#### <a name="project-contract-line-milestone-mapping-in-the-projects-and-contracts-psa-3x-to-dynamics---v2-template"></a><span data-ttu-id="7c437-208">Mapowanie punktów kontrolnych pozycja kontraktu projektu w szablonie projekty i kontrakty (PSA 3.x do Dynamics) - v2:</span><span class="sxs-lookup"><span data-stu-id="7c437-208">Project contract line milestone mapping in the Projects and Contracts (PSA 3.x to Dynamics) - v2 template:</span></span>

<span data-ttu-id="7c437-209">[![Mapowanie pozycji kontraktu punktu kontrolnego za pomocą szablonu wersji 2](./media/ProjectContractLineMilestoneMapping_v2.jpg)](./media/ProjectContractLineMilestoneMapping_v2.jpg)</span><span class="sxs-lookup"><span data-stu-id="7c437-209">[![Project contract line milestone mapping with version two template](./media/ProjectContractLineMilestoneMapping_v2.jpg)](./media/ProjectContractLineMilestoneMapping_v2.jpg)</span></span>
